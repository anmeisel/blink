{
  "version": 3,
  "sources": ["../../react-fetch-hook/utils/flattenInput.js", "../../react-fetch-hook/usePromise.js", "../../react-fetch-hook/index.js"],
  "sourcesContent": ["function flattenInput () {\n  var res = []\n  for (var i = 0; i < arguments.length; i++) {\n    var input = arguments[i]\n    if (input instanceof Array) {\n      for (var j = 0; j < input.length; j++) {\n        res = res.concat(flattenInput(input[j]))\n      }\n    } else if (typeof URL !== 'undefined' && input instanceof URL) {\n      res = res.concat(input.toJSON())\n    } else if (input instanceof Object) {\n      var keys = Object.keys(input)\n      for (var k = 0; k < keys.length; k++) {\n        var key = keys[k]\n        res = res.concat([key]).concat(flattenInput(input[key]))\n      }\n    } else {\n      res = res.concat(input)\n    }\n  }\n  return res\n}\n\nmodule.exports = flattenInput\n", "var React = require('react')\n\nvar flattenInput = require('./utils/flattenInput')\n\nfunction usePromise (\n  callFunction\n) {\n  var inputs = Array.prototype.slice.call(arguments, [1])\n  var state = React.useState({\n    isLoading: !!callFunction\n  })\n\n  React.useEffect(function () {\n    if (!callFunction) {\n      return\n    }\n    !state[0].isLoading && state[1]({ data: state[0].data, isLoading: true })\n    callFunction.apply(null, inputs)\n      .then(function (data) {\n        state[1]({\n          data: data,\n          isLoading: false\n        })\n      })\n      .catch(function (error) {\n        state[1]({\n          error: error,\n          isLoading: false\n        })\n      })\n  }, flattenInput(inputs))\n\n  return state[0]\n}\n\nmodule.exports = usePromise\n", "var usePromise = require('./usePromise')\n\nfunction UseFetchError (status, statusText, message, fileName, lineNumber) {\n  var instance = new Error(message, fileName, lineNumber)\n  instance.name = 'UseFetchError'\n  instance.status = status\n  instance.statusText = statusText\n  Object.setPrototypeOf(instance, Object.getPrototypeOf(this))\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(instance, UseFetchError)\n  }\n  return instance\n}\n\nUseFetchError.prototype = Object.create(Error.prototype, {\n  constructor: {\n    value: Error,\n    enumerable: false,\n    writable: true,\n    configurable: true\n  }\n})\n\nObject.setPrototypeOf(UseFetchError, Error)\n\nfunction useFetch (\n  path,\n  options,\n  specialOptions\n) {\n  var blocked = ((specialOptions && specialOptions.depends) ||\n      (options && options.depends) || [])\n    .reduce(function (acc, dep) { return acc || !dep }, false)\n  return usePromise(!blocked && function (p, o, s) {\n    return fetch(p, o)\n      .then((s && s.formatter) || (o && o.formatter) || function (response) {\n        if (!response.ok) {\n          throw new UseFetchError(\n            response.status,\n            response.statusText,\n            'Fetch error'\n          )\n        }\n        return response.json()\n      })\n  },\n  path, options || {}, specialOptions || {})\n}\n\nmodule.exports = useFetch\n"],
  "mappings": "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",
  "names": []
}
